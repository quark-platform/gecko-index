{
  "kind": "idlfile",
  "contents": [
    {
      "kind": "ANY_COMMENT_$0",
      "doc": {
        "kind": "DOC_COMMENT",
        "contents": "/* vim:set ts=4 sw=4 et cindent: */"
      }
    },
    {
      "kind": "ANY_COMMENT_$0",
      "doc": {
        "kind": "DOC_COMMENT",
        "contents": "/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */"
      }
    },
    {
      "kind": "INCLUDE",
      "ident": "nsISupports"
    },
    {
      "kind": "interface_main",
      "doc_comment": null,
      "attrs": {
        "kind": "attributes",
        "first_attribute": {
          "kind": "attribute",
          "name": "uuid",
          "param": {
            "kind": "attribute_$0",
            "value": "6e35dbc0-49ef-4e2c-b1ea-b72ec64450a2"
          }
        },
        "other_attributes": []
      },
      "name": "nsIAuthModule",
      "base": {
        "kind": "ifacebase",
        "extends": "nsISupports"
      },
      "body": {
        "kind": "ifacebody",
        "contents": {
          "kind": "ifacebody_$0",
          "contents": [
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [
                  {
                    "kind": "DOC_COMMENT",
                    "contents": "/**\n     * Default behavior.\n     */"
                  }
                ],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "REQ_DEFAULT",
                  "value": "0"
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [
                  {
                    "kind": "DOC_COMMENT",
                    "contents": "/**\n     * Client and server will be authenticated.\n     */"
                  }
                ],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "REQ_MUTUAL_AUTH",
                  "value": {
                    "kind": "unary_$0"
                  }
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [
                  {
                    "kind": "DOC_COMMENT",
                    "contents": "/**\n     * The server is allowed to impersonate the client.  The REQ_MUTUAL_AUTH\n     * flag may also need to be specified in order for this flag to take\n     * effect.\n     */"
                  }
                ],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "REQ_DELEGATE",
                  "value": {
                    "kind": "unary_$0"
                  }
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [
                  {
                    "kind": "DOC_COMMENT",
                    "contents": "/**\n     * The authentication is required for a proxy connection.\n     */"
                  }
                ],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "REQ_PROXY_AUTH",
                  "value": {
                    "kind": "unary_$0"
                  }
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [
                  {
                    "kind": "DOC_COMMENT",
                    "contents": "/**\n     * Flags used for telemetry.\n     */"
                  }
                ],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "NTLM_MODULE_SAMBA_AUTH_PROXY",
                  "value": "0"
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "NTLM_MODULE_SAMBA_AUTH_DIRECT",
                  "value": "1"
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "NTLM_MODULE_WIN_API_PROXY",
                  "value": "2"
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "NTLM_MODULE_WIN_API_DIRECT",
                  "value": "3"
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "NTLM_MODULE_GENERIC_PROXY",
                  "value": "4"
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "NTLM_MODULE_GENERIC_DIRECT",
                  "value": "5"
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "NTLM_MODULE_KERBEROS_PROXY",
                  "value": "6"
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [],
                "code": {
                  "kind": "const_code",
                  "type": "unsigned long",
                  "name": "NTLM_MODULE_KERBEROS_DIRECT",
                  "value": "7"
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [
                  {
                    "kind": "DOC_COMMENT",
                    "contents": "/** Other flags may be defined in the future */"
                  },
                  {
                    "kind": "DOC_COMMENT",
                    "contents": "/**\n     * Called to initialize an auth module.  The other methods cannot be called\n     * unless this method succeeds.\n     *\n     * @param aServiceName\n     *        the service name, which may be null if not applicable (e.g., for\n     *        NTLM, this parameter should be null).\n     * @param aServiceFlags\n     *        a bitwise-or of the REQ_ flags defined above (pass REQ_DEFAULT\n     *        for default behavior).\n     * @param aDomain\n     *        the authentication domain, which may be null if not applicable.\n     * @param aUsername\n     *        the user's login name\n     * @param aPassword\n     *        the user's password\n     */"
                  }
                ],
                "code": {
                  "kind": "func",
                  "attributes": null,
                  "return_type": "void",
                  "name": "init",
                  "params": {
                    "kind": "paramlist",
                    "first_param": {
                      "kind": "param",
                      "attribute": null,
                      "refType": "in",
                      "type": "ACString",
                      "name": "aServiceName"
                    },
                    "other": [
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "in",
                          "type": "unsigned long",
                          "name": "aServiceFlags"
                        }
                      },
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "in",
                          "type": "AString",
                          "name": "aDomain"
                        }
                      },
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "in",
                          "type": "AString",
                          "name": "aUsername"
                        }
                      },
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "in",
                          "type": "AString",
                          "name": "aPassword"
                        }
                      }
                    ]
                  },
                  "raises": null
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [
                  {
                    "kind": "DOC_COMMENT",
                    "contents": "/**\n     * Called to get the next token in a sequence of authentication steps.\n     *\n     * @param aInToken\n     *        A buffer containing the input token (e.g., a challenge from a\n     *        server).  This may be null.\n     * @param aInTokenLength\n     *        The length of the input token.\n     * @param aOutToken\n     *        If getNextToken succeeds, then aOutToken will point to a buffer\n     *        to be sent in response to the server challenge.  The length of\n     *        this buffer is given by aOutTokenLength.  The buffer at aOutToken\n     *        must be recycled with a call to free.\n     * @param aOutTokenLength\n     *        If getNextToken succeeds, then aOutTokenLength contains the\n     *        length of the buffer (number of bytes) pointed to by aOutToken.\n     */"
                  }
                ],
                "code": {
                  "kind": "func",
                  "attributes": null,
                  "return_type": "void",
                  "name": "getNextToken",
                  "params": {
                    "kind": "paramlist",
                    "first_param": {
                      "kind": "param",
                      "attribute": {
                        "kind": "attributes",
                        "first_attribute": {
                          "kind": "attribute",
                          "name": "const",
                          "param": null
                        },
                        "other_attributes": []
                      },
                      "refType": "in",
                      "type": "voidPtr",
                      "name": "aInToken"
                    },
                    "other": [
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "in",
                          "type": "unsigned long",
                          "name": "aInTokenLength"
                        }
                      },
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "out",
                          "type": "voidPtr",
                          "name": "aOutToken"
                        }
                      },
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "out",
                          "type": "unsigned long",
                          "name": "aOutTokenLength"
                        }
                      }
                    ]
                  },
                  "raises": null
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [
                  {
                    "kind": "DOC_COMMENT",
                    "contents": "/**\n     * Once a security context has been established through calls to GetNextToken()\n     * it may be used to protect data exchanged between client and server. Calls\n     * to Wrap() are used to protect items of data to be sent to the server.\n     *\n     * @param aInToken\n     *        A buffer containing the data to be sent to the server\n     * @param aInTokenLength\n     *        The length of the input token\n     * @param confidential\n     *        If set to true, Wrap() will encrypt the data, otherwise data will\n     *        just be integrity protected (checksummed)\n     * @param aOutToken\n     *        A buffer containing the resulting data to be sent to the server\n     * @param aOutTokenLength\n     *        The length of the output token buffer\n     *\n     * Wrap() may return NS_ERROR_NOT_IMPLEMENTED, if the underlying authentication\n     * mechanism does not support security layers.\n     */"
                  }
                ],
                "code": {
                  "kind": "func",
                  "attributes": null,
                  "return_type": "void",
                  "name": "wrap",
                  "params": {
                    "kind": "paramlist",
                    "first_param": {
                      "kind": "param",
                      "attribute": {
                        "kind": "attributes",
                        "first_attribute": {
                          "kind": "attribute",
                          "name": "const",
                          "param": null
                        },
                        "other_attributes": []
                      },
                      "refType": "in",
                      "type": "voidPtr",
                      "name": "aInToken"
                    },
                    "other": [
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "in",
                          "type": "unsigned long",
                          "name": "aInTokenLength"
                        }
                      },
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "in",
                          "type": "boolean",
                          "name": "confidential"
                        }
                      },
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "out",
                          "type": "voidPtr",
                          "name": "aOutToken"
                        }
                      },
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "out",
                          "type": "unsigned long",
                          "name": "aOutTokenLength"
                        }
                      }
                    ]
                  },
                  "raises": null
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [
                  {
                    "kind": "DOC_COMMENT",
                    "contents": "/**\n     * Unwrap() is used to unpack, decrypt, and verify the checksums on data\n     * returned by a server when security layers are in use.\n     *\n     * @param aInToken\n     *        A buffer containing the data received from the server\n     * @param aInTokenLength\n     *        The length of the input token\n     * @param aOutToken\n     *        A buffer containing the plaintext data from the server\n     * @param aOutTokenLength\n     *        The length of the output token buffer\n     *\n     * Unwrap() may return NS_ERROR_NOT_IMPLEMENTED, if the underlying\n     * authentication mechanism does not support security layers.\n     */"
                  }
                ],
                "code": {
                  "kind": "func",
                  "attributes": null,
                  "return_type": "void",
                  "name": "unwrap",
                  "params": {
                    "kind": "paramlist",
                    "first_param": {
                      "kind": "param",
                      "attribute": {
                        "kind": "attributes",
                        "first_attribute": {
                          "kind": "attribute",
                          "name": "const",
                          "param": null
                        },
                        "other_attributes": []
                      },
                      "refType": "in",
                      "type": "voidPtr",
                      "name": "aInToken"
                    },
                    "other": [
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "in",
                          "type": "unsigned long",
                          "name": "aInTokenLength"
                        }
                      },
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "out",
                          "type": "voidPtr",
                          "name": "aOutToken"
                        }
                      },
                      {
                        "kind": "paramlist_$0",
                        "param": {
                          "kind": "param",
                          "attribute": null,
                          "refType": "out",
                          "type": "unsigned long",
                          "name": "aOutTokenLength"
                        }
                      }
                    ]
                  },
                  "raises": null
                }
              }
            },
            {
              "kind": "ifacebody_$0_$0",
              "contents": {
                "kind": "member_$0",
                "docComment": [],
                "code": "%{C++\n    /**\n     * Create a new instance of an auth module.\n     *\n     * @param aType\n     *        The type of the auth module to be constructed.\n     */\n    static already_AddRefed<nsIAuthModule> CreateInstance(const char* aType);\n%}\n"
              }
            }
          ]
        }
      }
    },
    "\n"
  ]
}